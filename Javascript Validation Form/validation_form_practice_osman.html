<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style></style>
    
  </head>

  <body>
    
    <form action = "" name = "myForm" onsubmit = "return(validate());">



      <h1 align="center">USER REGISTRATION</h1>

      <table align="center" cellspacing="3" cellpadding="3" border="3">
        <tr>
          <td align="left">Name</td>
          <td><input type="text" name="name" /></td>
        </tr>

        <tr>
          <td align="left">Email</td>
          <td><input type="email" name="email" /></td>
        </tr>

        <tr>
          <td align="left">Phone Number</td>
          <td><input type="text" name="phone"  /></td>
        </tr>

        <tr>
          <td align="left">Subject</td>

          <td>
            <select name="subject">
              <option value="0" selected>Select</option>
              <option value="1">HTML</option>
              <option value="2">CSS</option>
              <option value="3">Javascript</option>
              <option value="4">React</option>
            </select>
          </td>
        </tr>
      </table>

      <p id="error_msg" style="color:red; text-align:center"></p>

      <!-- <button style="display: block; margin: auto; cursor: pointer" type="submit" name="submit">
      <input type="submit" value="submit"> -->     

        <!-- Submit -->
      
      <!-- </button> -->

      <div style="text-align:center"><input type = "submit" value = "submit"/></div>
      

    </form>

    <script type="text/javascript">

      function validate(){
        var text;
        if(document.myForm.name.value == ''){
      
          text = 'Name cannot be empty'
          document.getElementById('error_msg')
          error_msg.innerHTML = text;
          document.myForm.name.focus() 
          return false;
        }
      
      
       if(document.myForm.email.value == ''){
        text = 'E-mail cannot be empty'
        document.getElementById('error_msg')
        error_msg.innerHTML = text;
        document.myForm.email.focus()
        return false;
      }
      
      
      var emailPositionID = document.myForm.email.value;
      
      //  a.aa@.gmail.com
      
      atposn = emailPositionID.indexOf('@'); //4
      console.log(atposn, 'atposn')
      
      dotposn = emailPositionID.lastIndexOf('.'); //11
      console.log(dotposn, 'dotposn')
      
      if(atposn < 1 || (dotposn - atposn < 2)){
      
      //  a.aa@.com
      // at_Position = emailPositionID.indexOf('@'); //4
      // dot_Position = emailPositionID.lastIndexOf('.'); //5
      // (dot_Position - at_Position < 2)
      // (5 - 4 < 2)
      // (1 < 2) false
      
      // between @ and . there should be at least 1 letter 
      //  a.aa@g.com 
      
      //  a.aa@.gmail.com
      // at_Position = emailPositionID.indexOf('@'); //4
      // dot_Position = emailPositionID.lastIndexOf('.'); //11
      // (dot_Position - at_Position < 2)
      // (11 - 4 < 2)
      // (7 < 2) true
      
      text = 'Please enter valid email ID';
      document.getElementById('error_msg').innerHTML = text;
      document.myForm.email.focus();
      return false 
      }
      
      if(document.myForm.phone.value == '' || isNaN(document.myForm.phone.value) || document.myForm.phone.value.length != 11 ){
      
      text = 'Please enter a valid 11-digit phone number';
      document.getElementById('error_msg')
      error_msg.innerHTML = text;
      document.myForm.phone.focus();
      return false;
      }
      
      if(document.myForm.subject.value == '0'){
        text = 'Please provide your area of expertise';
        document.getElementById('error_msg')
        error_msg.innerHTML = text;
      return false;
      }
      
      return true
      
      
      
      
      }
      
      
      
      
      
      
          </script>
  </body>
</html>
