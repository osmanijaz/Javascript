<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"
        integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap"
        rel="stylesheet">

    <title>Document</title>
</head>
<style>
    * {
        font-family: 'Poppins', sans-serif;
    }

    .container {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        flex-direction: column;
        margin: auto;
        margin-top: 60px;
        border: 5px solid lime;
        width: max-content;
        height: max-content;
        padding: 20px;
    }

    .title {

        color: grey;
        justify-content: flex-start;
        align-items: flex-start;
        font-size: 15px;
    }

    .area {
        outline: grey;
        border: 0.5px solid rgb(180, 180, 180);
        font-size: 15px;
        color: grey;
    }

    .button1 {
        border: none;
        background-color: rgb(211, 211, 211);
        color: rgb(40, 40, 40);
        font-size: 15px;
        width: 80px;
        height: 30px;
        border-radius: 2px;
        cursor: pointer;
    }

    .button1:hover {

        background-color: rgb(200, 200, 200);
    }

    #message {
        color: grey;



    }
</style>

<body>

    <div class="container">

        <p class="title"></p>

        <textarea class="area" name="words" id="" cols="75" rows="10" disabled></textarea>
        <br>
        <button class="button1">Start</button>


        <!-- With id can link direct with Javascript  -->
        <p id="message"></p>

    </div>



    <script>

        var title = document.querySelector('.title');
        var area = document.getElementsByTagName('textarea')[0];
        console.log(area);
        var button1 = document.querySelector('.button1');

        var textArray = ["What is the meaning of life?", "How does a car engine work?", "What is the fastest land animal?", "How do you solve a Rubik's cube?"]

        // The process of assigning a value to a 
        // variable is initialization...

        var startTime
        // 1. decleration
        var endTime

        button1.addEventListener('click', (e) => {

            var random = Math.floor(Math.random() * textArray.length)

            if (button1.innerHTML == 'Start') {
                playGame(random)

            } else {
                endGame()
            }
        })


        function playGame(random) {
            button1.innerHTML = 'Done'
            area.disabled = false
            title.innerHTML = textArray[random]

            startTime = new Date().getTime()
            // 2. assigned value to variable

            console.log(startTime, 'startTime')
            // 3. initialization
        }


        function endGame() {
            button1.innerHTML = 'Start'

            endTime = new Date().getTime()
            console.log(endTime, 'endTime')

            var totalTime = ((endTime - startTime) / 1000)
            console.log(totalTime, 'totalTime')


            // ---------Time---Start




            // (wordCount / totalTime) * 60 


            var wordCount
            // var wordCount =area.value.length
            // console.log(wordCount, 'wordCount')

            function countingWord(wordCount) {
                return wordCount.split(" ").length;
            }

            var areaValue = area.value
            console.log(areaValue, 'areaValue')

            var textValue = countingWord(areaValue);
            console.log(textValue, 'words'); // e.g. Output: 3 words



            // ---- get the speed ----  

            var speed = Math.round((wordCount / totalTime) * 60)
            console.log(speed, 'speed')

            // calling from HTML direct 
            message.innerHTML = `You typed ${textValue} word's in the time of ${totalTime} second's. 
            <br>Your speed if continued will be approx. ${speed} word's per minute`

            // ---------Time---End


            area.disabled = true
            area.value = ''
        }

    </script>
</body>

</html>